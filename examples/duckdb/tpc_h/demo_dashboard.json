{
  "name": "Trilogy Demo Dashboard",
  "layout": [
    {
      "x": 0,
      "y": 0,
      "w": 20,
      "h": 7,
      "i": "0"
    },
    {
      "x": 0,
      "y": 7,
      "w": 20,
      "h": 3,
      "i": "1"
    },
    {
      "x": 0,
      "y": 28,
      "w": 10,
      "h": 8,
      "i": "5"
    },
    {
      "x": 0,
      "y": 36,
      "w": 10,
      "h": 8,
      "i": "6"
    },
    {
      "x": 0,
      "y": 10,
      "w": 20,
      "h": 7,
      "i": "7"
    },
    {
      "x": 10,
      "y": 36,
      "w": 10,
      "h": 8,
      "i": "8"
    },
    {
      "x": 0,
      "y": 22,
      "w": 20,
      "h": 6,
      "i": "9"
    },
    {
      "x": 0,
      "y": 17,
      "w": 10,
      "h": 5,
      "i": "10"
    },
    {
      "x": 10,
      "y": 17,
      "w": 10,
      "h": 1,
      "i": "11"
    },
    {
      "x": 10,
      "y": 18,
      "w": 10,
      "h": 1,
      "i": "12"
    },
    {
      "x": 10,
      "y": 19,
      "w": 10,
      "h": 3,
      "i": "13"
    },
    {
      "x": 10,
      "y": 28,
      "w": 10,
      "h": 8,
      "i": "14"
    }
  ],
  "gridItems": {
    "0": {
      "type": "markdown",
      "content": {
        "markdown": "## Trilogy Studio Demo Dashboard\n\nTrilogy Studio a SQL-ish-centric analytics tool with a custom SQL flavor- [Trilogy](https://trilogydata.dev/). This dashboard is based on a demo model - using a TPC model - to show off some of the analytic features this enables. It should be relatively usable on mobile as well, though some features (like drilldown) may not work. \n\nNote: You may have landed on this in fullscreen mode; click 'Edit Mode' in the top right to escape into the general IDE if so inclined. You can then access more features/tutorials. Dashboards are harder to use in edit mode, so you can also finish going through this dashboard first. \n\nBut first, some charts: we're looking at {order_id_count} orders from customers in {order_customer_nation_id_count} countries, ordering parts from suppliers in {part_supplier_nation_id_count} nations. Each of these views is a simple SQL query + some lightweight chart configuration - and they can all freely cross-filter and interact. \n\nWe'll start with some basic headline metrics and a bar chart. ",
        "query": "select order.id.count, order.customer.nation.id.count,part.supplier.nation.id.count;"
      },
      "name": "Note 0",
      "width": 1591,
      "height": 235,
      "conceptFilters": [],
      "filters": [],
      "chartFilters": [],
      "parameters": {},
      "allowCrossFilter": true
    },
    "1": {
      "type": "chart",
      "content": "\r\n \r\n# Selecting total revenue\r\n# Total revenue is based on the extended price minus discount\r\nselect \r\n    local.total_revenue,\r\n    sum(quantity) as total_items_sold,\r\n    count(order.id) as total_orders,\r\n    count(order.customer.id) as total_customers  ;",
      "name": "Headline Metrics",
      "width": 1591,
      "height": 75,
      "chartConfig": {
        "chartType": "headline",
        "xField": "total_revenue",
        "yField": "",
        "yField2": "",
        "yAggregation": "sum",
        "colorField": "",
        "sizeField": "",
        "groupField": "",
        "trellisField": "",
        "geoField": ""
      },
      "filters": [],
      "chartFilters": [],
      "conceptFilters": [],
      "parameters": {},
      "allowCrossFilter": true
    },
    "5": {
      "type": "chart",
      "content": "import lineitem;\n\n\nSELECT\n    part.type,\n    total_revenue,\n    avg(discount) as avg_discount\nHAVING\n    total_revenue > 0\n\nORDER BY\n    total_revenue desc\nLIMIT 15\n;",
      "name": "Chart 5",
      "width": 791,
      "height": 275,
      "conceptFilters": [],
      "filters": [],
      "chartConfig": {
        "chartType": "barh",
        "xField": "total_revenue",
        "yField": "part_type",
        "yField2": "",
        "colorField": "avg_discount",
        "sizeField": "",
        "groupField": "",
        "trellisField": "",
        "geoField": "",
        "annotationField": "",
        "hideLegend": false,
        "showTitle": true,
        "yAggregation": "sum"
      },
      "chartFilters": [],
      "parameters": {},
      "allowCrossFilter": true
    },
    "6": {
      "type": "chart",
      "content": " \n# This query selects the count of local.id \n# for each country, representing items sold to each country. \n\nselect \n    order.customer.nation.name, \n    sum(quantity) as items_sold \nhaving \n    items_sold > 0;\n\n",
      "name": "Sales By Country",
      "width": 791,
      "height": 275,
      "conceptFilters": [],
      "filters": [],
      "chartFilters": [],
      "chartConfig": {
        "chartType": "usa-map",
        "xField": "",
        "yField": "",
        "yField2": "",
        "yAggregation": "sum",
        "colorField": "items_sold",
        "sizeField": "",
        "groupField": "",
        "trellisField": "",
        "geoField": "order_customer_nation_name"
      },
      "parameters": {},
      "allowCrossFilter": true
    },
    "7": {
      "type": "chart",
      "content": " \n# Query to get total sales by supplier \n# Total sales is calculated as the extended price minus discount\n\nselect \n    part.supplier.nation.name, \n    count(part.supplier.id) as nation_supplier_count,\n    total_revenue\nhaving total_revenue > 0 \norder by\n    total_revenue desc\n; \n",
      "name": "Supplier Info",
      "width": 1591,
      "height": 235,
      "chartFilters": [],
      "chartConfig": {
        "chartType": "bar",
        "xField": "part_supplier_nation_name",
        "yField": "total_revenue",
        "colorField": "nation_supplier_count"
      },
      "filters": [],
      "conceptFilters": [],
      "parameters": {},
      "allowCrossFilter": true
    },
    "8": {
      "type": "chart",
      "content": "select \n    order.customer.nation.region.id as region_id,\n    order.customer.nation.region.name,\n    count(order.id) as order_count,\n    sum(order.total_price) as total_sales \nwhere \n    order.customer.nation.region.id is not null;\n",
      "name": "Chart 8",
      "width": 791,
      "height": 275,
      "chartConfig": {
        "chartType": "barh",
        "xField": "order_count",
        "yField": "order_customer_nation_region_name",
        "yField2": "",
        "yAggregation": "sum",
        "colorField": "order_customer_nation_region_name",
        "sizeField": "",
        "groupField": "",
        "trellisField": "",
        "geoField": ""
      },
      "conceptFilters": [],
      "filters": [],
      "chartFilters": [],
      "parameters": {},
      "allowCrossFilter": true
    },
    "9": {
      "type": "chart",
      "content": "select\n  order.date.month_start,\n  part.supplier.nation.name,\n  sum(local.revenue) as monthly_revenue;\n",
      "name": "Revenue Trends",
      "width": 1591,
      "height": 195,
      "chartConfig": {
        "chartType": "area",
        "xField": "order_date_month_start",
        "yField": "monthly_revenue",
        "colorField": "part_supplier_nation_name"
      },
      "chartFilters": [],
      "filters": [],
      "conceptFilters": [],
      "parameters": {},
      "allowCrossFilter": true
    },
    "10": {
      "type": "markdown",
      "content": {
        "markdown": "# Filtering\nYou can click on one of the countries above to filter by a supplier. Try shift-clicking to select a few. You can also add more traditional filters, like these widgets to the right/bottom (if you're on mobile). There's a global dashboard filter bar at top too, which is most useful if you have an LLM hooked up. \n\nOn the time chart below, you can do a classic click-drag to filter to a range.",
        "query": ""
      },
      "name": "Note 10",
      "width": 791,
      "height": 155,
      "allowCrossFilter": true,
      "conceptFilters": [],
      "filters": []
    },
    "11": {
      "type": "filter",
      "content": "select \nline_status",
      "name": "Note 11",
      "width": 791,
      "height": -5,
      "allowCrossFilter": true,
      "conceptFilters": [],
      "filters": [],
      "chartFilters": []
    },
    "12": {
      "type": "filter",
      "content": "select \nship_mode",
      "name": "Note 11",
      "width": 791,
      "height": -5,
      "allowCrossFilter": true,
      "conceptFilters": [],
      "filters": [],
      "chartFilters": []
    },
    "13": {
      "type": "markdown",
      "content": {
        "markdown": "### Basic Filters\nAre pretty basic. We probably need to add some multi-select, at least. ",
        "query": ""
      },
      "name": "Note 13",
      "width": 791,
      "height": 75,
      "allowCrossFilter": true,
      "conceptFilters": [],
      "filters": []
    },
    "14": {
      "type": "markdown",
      "content": {
        "markdown": "# Drilldowns\n\nCtrl-click to drill down into a value, which will let you select any drilldown value to split the chart by after filtering to the selected value. Try drilling down the part types to the left into a part name or something else fun, like a customer.\n\n## Geography\nTo get a geographic chart, just add something with lat/long or a country name in the select. You can use an import from std.geography to get the right types - example from the source below Of course, you can click to cross-filter here too. \n\n```trilogy\nimport std.geography; # access the country type\nproperty id.name string::country; # capitalized; eg UNITED STATES or FRANCE or CANADA\n```",
        "query": ""
      },
      "name": "Note 14",
      "width": 791,
      "height": 275,
      "allowCrossFilter": true,
      "conceptFilters": [],
      "filters": []
    }
  },
  "nextId": 15,
  "createdAt": "2025-11-02T21:04:47.192Z",
  "updatedAt": "2025-11-03T03:41:49.712Z",
  "filter": "",
  "imports": [
    {
      "name": "lineitem",
      "alias": ""
    }
  ],
  "version": 1,
  "state": "editing",
  "description": ""
}